(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,n){e.exports=n(341)},340:function(e,t,n){},341:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(17),s=n.n(r),o=n(45),c=n(101),l=n(102),u=n(89),p=n.n(u),m=n(41),d=n(42);function h(){var e=Object(m.a)(["\n  .background {\n    position: fixed;\n    top: 0;\n    left: 0;\n    height: 100vh;\n    width: 100%;\n    background-image: url(\"data:image/svg+xml,%3Csvg width='70' height='70' viewBox='0 0 70 70' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%2300cac8' fill-opacity='0.4' fill-rule='evenodd'%3E%3Cpath d='M0 0h35v35H0V0zm5 5h25v25H5V5zm5 5h15v15H10V10zm5 5h5v5h-5v-5zM40 5h25v25H40V5zm5 5h15v15H45V10zm5 5h5v5h-5v-5zM70 35H35v35h35V35zm-5 5H40v25h25V40zm-5 5H45v15h15V45zm-5 5h-5v5h5v-5zM30 40H5v25h25V40zm-5 5H10v15h15V45zm-5 5h-5v5h5v-5z'/%3E%3C/g%3E%3C/svg%3E\"),\n      linear-gradient(\n        to right top,\n        #287c11,\n        #1d903e,\n        #07a464,\n        #00b889,\n        #00ccae,\n        #00cac8,\n        #00c6dd,\n        #00c0eb,\n        #00a1ea,\n        #007ee0,\n        #4a56c6,\n        #74199b\n      );\n  }\n  .spinnerDiv {\n    width: 100%;\n    height: 100vh;\n    display: grid;\n    place-items: center center;\n  }\n"]);return h=function(){return e},e}var g=d.a.div(h()),f=n(92),v=n(93),w=n(103),b=n(94),x=n(104),j=n(24),E=n(36),O=n.n(E),y=n(38),k=n.n(y),S=n(40),z=n.n(S),C=n(16),M=n(21),I=n(37),N=n.n(I),V=n(39),T=n.n(V),H=n(97),R=n.n(H),q=n(98),B=n.n(q),A=n(43),L=n.n(A),D=n(95),P=n.n(D),W=function(e){var t=e.site,n=e.setSite;return i.a.createElement(P.a,{value:t,exclusive:!0,onChange:function(e,t){n(t)}},i.a.createElement(L.a,{value:"kijiji"},"Kijiji"),i.a.createElement(L.a,{value:"craigslist"},"Craigslist"),i.a.createElement(L.a,{value:"usedottawa"},"UsedOttawa"))},F=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(w.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={anchorEl:null,mobileMoreAnchorEl:null,inputValue:null},n.handleProfileMenuOpen=function(e){n.setState({anchorEl:e.currentTarget})},n.handleMenuClose=function(){n.setState({anchorEl:null}),n.handleMobileMenuClose()},n.handleMobileMenuOpen=function(e){n.setState({mobileMoreAnchorEl:e.currentTarget})},n.handleMobileMenuClose=function(){n.setState({mobileMoreAnchorEl:null})},n}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.setSearchTerms,r=t.site,s=t.setSite;return i.a.createElement("div",{className:n.root},i.a.createElement(O.a,{position:"static"},i.a.createElement(N.a,null,i.a.createElement(k.a,{className:n.menuButton,color:"inherit","aria-label":"Open drawer"},i.a.createElement(R.a,null)),i.a.createElement(T.a,{className:n.title,variant:"h6",color:"inherit",noWrap:!0},"Daniel's List"),i.a.createElement("div",{className:n.search},i.a.createElement("div",{className:n.searchIcon},i.a.createElement(B.a,null)),i.a.createElement(z.a,{placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},onChange:function(t){e.setState({inputValue:t.target.value})},onKeyPress:function(t){13!==t.charCode&&"Enter"!==t.key||(t.preventDefault(),a(e.state.inputValue))}})),i.a.createElement("div",{className:n.grow}))),i.a.createElement(W,{site:r,setSite:s}))}}]),t}(i.a.Component),G=Object(C.withStyles)(function(e){var t;return{root:{position:"fixed",top:"0",zIndex:99,width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:(t={width:200,display:"none"},Object(j.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(j.a)(t,"fontFamily","'Reenie Beanie', cursive"),Object(j.a)(t,"fontSize","24pt"),t),search:Object(j.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(M.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(M.fade)(e.palette.common.white,.25)},marginRight:0,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"100%"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(j.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"100%"})}})(F),J=n(99),K=n.n(J);function U(){var e=Object(m.a)(["\n  --responsive-width: 140px;\n  grid-column-gap: 10px;\n  padding: 12px;\n  grid-row-gap: 18px;\n  @media (min-width: 700px) {\n    --responsive-width: 175px;\n    grid-column-gap: 20px;\n    padding: 24px;\n    grid-row-gap: 24px;\n  }\n  @media (min-width: 1000px) {\n    --responsive-width: 225px;\n    grid-row-gap: 40px;\n  }\n  margin: 64px auto 0 auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(var(--responsive-width), 1fr));\n  justify-items: center;\n  .tilt {\n    transform-style: preserve-3d;\n    transform: perspective(10px);\n    padding: 0 !important;\n    width: var(--responsive-width) !important;\n    background: none !important;\n    height: calc(var(--responsive-width) + 80px) !important;\n    box-shadow: none !important;\n    transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n    transform: scale(0.98);\n    cursor: pointer;\n    &:hover {\n      transform: scale(1) translate(0, -2px);\n    }\n    img {\n      z-index: 0;\n      transform: translateZ(50px);\n      box-shadow: 0px 3px 11px 5px rgba(0, 0, 0, 0.2);\n      width: 100%;\n      max-height: var(--responsive-width);\n      object-fit: cover;\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n      margin-bottom: -7px;\n    }\n    .title {\n      padding: 8px;\n      opacity: 0.8;\n      font-family: system-ui;\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      max-height: 80px;\n      background: white;\n      line-height: 1.5em;\n      box-sizing: content-box;\n      overflow: hidden;\n      display: -webkit-box;\n      -webkit-line-clamp: 3;\n      -webkit-box-orient: vertical;\n      text-overflow: ellipsis;\n      color: rgba(0, 0, 0, 0.9);\n      text-decoration: none;\n    }\n  }\n"]);return U=function(){return e},e}var Z=d.a.div(U()),$=function(e){var t=e.items;return i.a.createElement(Z,{className:"ItemsStyles"},t.map(function(e){return e?i.a.createElement("a",{href:e.url,key:e.url},i.a.createElement(K.a,{options:{glare:!0},className:"tilt"},i.a.createElement("img",{src:e.image,alt:e.title}),i.a.createElement("div",{className:"title"},e.title))):null}))},Q=n(18),X=n.n(Q),Y=n(44),_=n(29),ee=n.n(_),te=n(100),ne=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),u=Object(o.a)(s,2),m=u[0],d=u[1],h=Object(a.useState)("kijiji"),f=Object(o.a)(h,2),v=f[0],w=f[1];return Object(a.useEffect)(function(){var e=window.location.search;r([]),"kijiji"===v?function(e){var t=e.queryString,n=e.searchTerms,a=e.setItems,i="https://cors-anywhere.herokuapp.com/https://www.kijiji.ca/b-buy-sell/ontario/".concat(n||t,"/k0c10l9004");ee.a.get(i).then(function(e){var t=e.data.split('<div class="image"'),n=t.map(function(e){return e.slice(e.indexOf("=")+2,e.indexOf('" '))}),i=t.map(function(e){return e.slice(e.indexOf('alt="')+5,e.indexOf("</div>"))}).map(function(e){return e.slice(0,e.indexOf('">'))}),r=e.data.split('data-vip-url="').map(function(e){var t=e.slice(0,e.indexOf('"'));return"https://www.kijiji.ca".concat(t)}),s=n.map(function(e,t){return{image:e,title:i[t],url:r[t]}});a(s.slice(1)),console.log("kijiji results:",s.slice(1))})}({queryString:e,searchTerms:m,setItems:r}):"craigslist"===v?function(e){var t=e.queryString,n=e.searchTerms,a=e.setItems,i="https://cors-anywhere.herokuapp.com/https://ottawa.craigslist.org/search/sss?sort=date&query=".concat(n||t);ee.a.get(i).then(function(){var e=Object(Y.a)(X.a.mark(function e(t){var n,i;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data.slice(t.data.indexOf('<li class="result-row"')).split('<li class="result-row"'),i=n.map(function(e){return e.slice(e.indexOf('<a href="')+9,e.indexOf('" class="result-image'))}),a([]),Promise.all(i.map(function(){var e=Object(Y.a)(X.a.mark(function e(t,n){var a,r;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(te.detail)("https://cors-anywhere.herokuapp.com/"+(t||""));case 3:return a=e.sent,r={image:a.images?a.images[0]:null,title:a.title,url:i[n]},e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}())).then(function(e){console.log("craigslist results:",e),a(e)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),console.log("getting craigslist")}({queryString:e,searchTerms:m,setItems:r}):"usedottawa"===v&&function(e){var t=e.queryString,n=e.searchTerms,a=(e.setItems,"https://cors-anywhere.herokuapp.com/https://www.usedottawa.com/classifieds/all?description=".concat(n||t));ee.a.get(a).then(function(){var e=Object(Y.a)(X.a.mark(function e(t){var n,a;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data.slice(t.data.indexOf('<div class="article"')).split('<div class="article"'),a=n.map(function(e){return"".concat(e.slice(e.indexOf('<a href="')+9,e.indexOf('" ><')))}),console.log(n,a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),console.log("getting usedottawa")}({queryString:e,searchTerms:m,setItems:r})},[m,v]),i.a.createElement(i.a.Fragment,null,i.a.createElement(g,{className:"AppStyles"},i.a.createElement("div",{className:"background"}),i.a.createElement(G,{setSearchTerms:function(e){d(e),Object(l.a)("/".concat(p.a.stringify(e.split(" "))))},site:v,setSite:w}),n.length>0?i.a.createElement($,{className:"itemsGrid",items:n}):i.a.createElement("div",{className:"spinnerDiv"},i.a.createElement(c.a,{className:"spinner",size:30,thickness:5}))))};n(340),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[202,1,2]]]);
//# sourceMappingURL=main.b88707db.chunk.js.map