(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(e,t,n){e.exports=n(340)},339:function(e,t,n){},340:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(17),o=n.n(r),s=n(54),c=n.n(s),l=n(87),u=n(42),p=n(39),d=n(100),m=n(101),h=n(55),g=n.n(h),v=n(89),f=n.n(v),w=n(40),b=n(90),x=n(91),E=n(102),j=n(92),O=n(103),k=n(23),y=n(34),z=n.n(y),S=n(36),C=n.n(S),M=n(38),N=n.n(M),V=n(16),H=n(20),I=n(35),R=n.n(I),B=n(37),T=n.n(B),A=n(95),L=n.n(A),D=n(96),P=n.n(D),W=n(41),F=n.n(W),G=n(93),J=n.n(G),K=function(e){var t=e.site,n=e.setSite;return i.a.createElement(J.a,{value:t,exclusive:!0,onChange:function(e,t){n(t)}},i.a.createElement(F.a,{value:"kijiji"},"Kijiji"),i.a.createElement(F.a,{value:"craigslist"},"Craigslist"),i.a.createElement(F.a,{value:"usedottawa"},"UsedOttawa"))},q=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i)))).state={anchorEl:null,mobileMoreAnchorEl:null,inputValue:null},n.handleProfileMenuOpen=function(e){n.setState({anchorEl:e.currentTarget})},n.handleMenuClose=function(){n.setState({anchorEl:null}),n.handleMobileMenuClose()},n.handleMobileMenuOpen=function(e){n.setState({mobileMoreAnchorEl:e.currentTarget})},n.handleMobileMenuClose=function(){n.setState({mobileMoreAnchorEl:null})},n}return Object(O.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.setSearchTerms,r=t.site,o=t.setSite;return i.a.createElement("div",{className:n.root},i.a.createElement(z.a,{position:"static"},i.a.createElement(R.a,null,i.a.createElement(C.a,{className:n.menuButton,color:"inherit","aria-label":"Open drawer"},i.a.createElement(L.a,null)),i.a.createElement(T.a,{className:n.title,variant:"h6",color:"inherit",noWrap:!0},"Daniel's List"),i.a.createElement("div",{className:n.search},i.a.createElement("div",{className:n.searchIcon},i.a.createElement(P.a,null)),i.a.createElement(N.a,{placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},onChange:function(t){e.setState({inputValue:t.target.value})},onKeyPress:function(t){13!==t.charCode&&"Enter"!==t.key||(t.preventDefault(),a(e.state.inputValue))}})),i.a.createElement("div",{className:n.grow}))),i.a.createElement(K,{site:r,setSite:o}))}}]),t}(i.a.Component),U=Object(V.withStyles)(function(e){var t;return{root:{position:"fixed",top:"0",zIndex:99,width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:(t={width:200,display:"none"},Object(k.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(k.a)(t,"fontFamily","'Reenie Beanie', cursive"),Object(k.a)(t,"fontSize","24pt"),t),search:Object(k.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(H.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(H.fade)(e.palette.common.white,.25)},marginRight:0,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"100%"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(k.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"100%"})}})(q),Z=n(97),$=n.n(Z);function Q(){var e=Object(p.a)(["\n  --responsive-width: 140px;\n  grid-column-gap: 10px;\n  padding: 12px;\n  grid-row-gap: 18px;\n  @media (min-width: 700px) {\n    --responsive-width: 175px;\n    grid-column-gap: 20px;\n    padding: 24px;\n    grid-row-gap: 24px;\n  }\n  @media (min-width: 1000px) {\n    --responsive-width: 225px;\n    grid-row-gap: 40px;\n  }\n  margin: 64px auto 0 auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(var(--responsive-width), 1fr));\n  justify-items: center;\n  .tilt {\n    transform-style: preserve-3d;\n    transform: perspective(1000px);\n    padding: 0 !important;\n    width: var(--responsive-width) !important;\n    background: none !important;\n    height: calc(var(--responsive-width) + 80px) !important;\n    box-shadow: none !important;\n    transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n    transform: scale(0.98);\n    cursor: pointer;\n    &:hover {\n      transform: scale(1) translate(0, -2px);\n    }\n    img {\n      transform: translateZ(20px);\n      box-shadow: 0px 3px 11px 5px rgba(0, 0, 0, 0.2);\n      width: 100%;\n      max-height: var(--responsive-width);\n      object-fit: cover;\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n      margin-bottom: -7px;\n    }\n    .title {\n      padding: 8px;\n      opacity: 0.8;\n      font-family: system-ui;\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      max-height: 80px;\n      background: white;\n      line-height: 1.5em;\n      box-sizing: content-box;\n      overflow: hidden;\n      display: -webkit-box;\n      -webkit-line-clamp: 3;\n      -webkit-box-orient: vertical;\n      text-overflow: ellipsis;\n      color: rgba(0, 0, 0, 0.9);\n      text-decoration: none;\n    }\n  }\n"]);return Q=function(){return e},e}var X=w.a.div(Q()),Y=function(e){var t=e.items;return i.a.createElement(X,{className:"ItemsStyles"},t.map(function(e){return i.a.createElement("a",{href:e.url,key:e.title},i.a.createElement($.a,{options:{glare:!0},className:"tilt"},i.a.createElement("img",{src:e.image,alt:e.title}),i.a.createElement("div",{className:"title"},e.title)))}))};function _(){var e=Object(p.a)(["\n  .background {\n    position: fixed;\n    top: 0;\n    left: 0;\n    height: 100vh;\n    width: 100%;\n    background-image: url(\"data:image/svg+xml,%3Csvg width='70' height='70' viewBox='0 0 70 70' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%2300cac8' fill-opacity='0.4' fill-rule='evenodd'%3E%3Cpath d='M0 0h35v35H0V0zm5 5h25v25H5V5zm5 5h15v15H10V10zm5 5h5v5h-5v-5zM40 5h25v25H40V5zm5 5h15v15H45V10zm5 5h5v5h-5v-5zM70 35H35v35h35V35zm-5 5H40v25h25V40zm-5 5H45v15h15V45zm-5 5h-5v5h5v-5zM30 40H5v25h25V40zm-5 5H10v15h15V45zm-5 5h-5v5h5v-5z'/%3E%3C/g%3E%3C/svg%3E\"),\n      linear-gradient(\n        to right top,\n        #287c11,\n        #1d903e,\n        #07a464,\n        #00b889,\n        #00ccae,\n        #00cac8,\n        #00c6dd,\n        #00c0eb,\n        #00a1ea,\n        #007ee0,\n        #4a56c6,\n        #74199b\n      );\n  }\n  .spinnerDiv {\n    width: 100%;\n    height: 100vh;\n    display: grid;\n    place-items: center center;\n  }\n"]);return _=function(){return e},e}var ee=w.a.div(_()),te=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(null),s=Object(u.a)(o,2),p=s[0],h=s[1],v=Object(a.useState)("kijiji"),w=Object(u.a)(v,2),b=w[0],x=w[1];return Object(a.useEffect)(function(){var e=window.location.search;r([]),"kijiji"===b?function(e){var t="https://cors-anywhere.herokuapp.com/https://www.kijiji.ca/b-buy-sell/ontario/".concat(p||e,"/k0c10l9004");g.a.get(t).then(function(e){var t=e.data.split('<div class="image"'),n=t.map(function(e){return e.slice(e.indexOf("=")+2,e.indexOf('" '))}),a=t.map(function(e){return e.slice(e.indexOf('alt="')+5,e.indexOf("</div>"))}).map(function(e){return e.slice(0,e.indexOf('">'))}),i=e.data.split('data-vip-url="').map(function(e){var t=e.slice(0,e.indexOf('"'));return"https://www.kijiji.ca".concat(t)});r(n.map(function(e,t){return{image:e,title:a[t],url:i[t]}}))})}(e):"craigslist"===b?function(e){var t="https://cors-anywhere.herokuapp.com/https://ottawa.craigslist.org/search/sss?sort=date&query=".concat(p||e);g.a.get(t).then(function(){var e=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout(Promise.resolve,2e3);case 2:t.data.slice(t.data.indexOf('<li class="result-row"')).split('<li class="result-row"').map(function(e){var t=e.slice(e.indexOf('hdrlnk">')+8,e.indexOf('<span class="result-meta"'));return t.slice(0,t.indexOf("</a>"))}),n=t.data.slice(t.data.indexOf('<ul class="rows"')).split('<img alt class src="'),console.log(n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),console.log("getting craigslist")}(e):"usedottawa"===b&&console.log("getting usedottawa")},[p,b]),i.a.createElement(i.a.Fragment,null,i.a.createElement(ee,{className:"AppStyles"},i.a.createElement("div",{className:"background"}),i.a.createElement(U,{setSearchTerms:function(e){h(e),Object(m.a)("/".concat(f.a.stringify(e.split(" "))))},site:b,setSite:x}),n.length>0?i.a.createElement(Y,{className:"itemsGrid",items:n}):i.a.createElement("div",{className:"spinnerDiv"},i.a.createElement(d.a,{className:"spinner",size:30,thickness:5}))))};n(339),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[201,1,2]]]);
//# sourceMappingURL=main.4e5c7ad5.chunk.js.map